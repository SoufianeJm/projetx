{% extends "billing/base.html" %}

{% block title %}Resources - Dashboard{% endblock %}
{% block page_title %}Resources{% endblock %}

{% block content %}
<div class="table-wrapper">
    <h2>Resources</h2>
    <a href="{% url 'resource_create' %}" class="btn-add-new">Add New Resource</a>
    <table>
        <thead>
            <tr>
                <th>Full Name</th>
                <th>Picture</th>
                <th>Matricule</th>
                <th>Grade</th>
                <th>Grade DES</th>
                <th>Rate IBM</th>
                <th>Rate DES</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            {% for resource in resources %}
            <tr>
                <td>{{ resource.full_name }}</td>
                <td>
                    {% if resource.picture %}
                        <img src="{{ resource.picture.url }}" alt="{{ resource.full_name }}" style="width: 50px; height: auto; border-radius: 50%;">
                    {% else %}
                        N/A
                    {% endif %}
                </td>
                <td>{{ resource.matricule }}</td>
                <td>{{ resource.get_grade_display }}</td>
                <td>{{ resource.get_grade_des_display }}</td>
                <td>{{ resource.rate_ibm }}</td>
                <td>{{ resource.rate_des }}</td>
                <td class="action-buttons">
                    <a href="{% url 'resource_update' resource.pk %}" class="btn-edit">Edit</a>
                    <form action="{% url 'resource_delete' resource.pk %}" method="post" style="display: inline;">
                        {% csrf_token %}
                        <button type="submit" class="btn-delete" onclick="return confirm('Are you sure you want to delete this resource?');">Delete</button>
                    </form>
                </td>
            </tr>
            {% empty %}
            <tr>
                <td colspan="8">No resources found.</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %} 